"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.lowerCaseHeaderNames = exports.convertToOutgoingHttpHeaders = exports.convertToHeaderEntries = void 0;
function convertToHeaderEntries(headers) {
    return Object.entries(headers).map(([name, value]) => {
        let resultValue = '';
        if (value)
            resultValue = Array.isArray(value) ? value.toString() : value;
        return { name, value: resultValue };
    });
}
exports.convertToHeaderEntries = convertToHeaderEntries;
function convertToOutgoingHttpHeaders(headers) {
    if (!headers)
        return {};
    return headers.reduce((result, header) => {
        result[header.name.toLowerCase()] = header.value;
        return result;
    }, {});
}
exports.convertToOutgoingHttpHeaders = convertToOutgoingHttpHeaders;
function lowerCaseHeaderNames(headers) {
    const result = {};
    Object.keys(headers).forEach(name => {
        result[name.toLowerCase()] = headers[name];
    });
    return result;
}
exports.lowerCaseHeaderNames = lowerCaseHeaderNames;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9uYXRpdmUtYXV0b21hdGlvbi91dGlscy9oZWFkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQU1BLFNBQWdCLHNCQUFzQixDQUFFLE9BQTRCO0lBQ2hFLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFO1FBQ2pELElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUVyQixJQUFJLEtBQUs7WUFDTCxXQUFXLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFFbEUsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLENBQUM7SUFDeEMsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBVEQsd0RBU0M7QUFFRCxTQUFnQiw0QkFBNEIsQ0FBRSxPQUFrQztJQUM1RSxJQUFJLENBQUMsT0FBTztRQUNSLE9BQU8sRUFBRSxDQUFDO0lBRWQsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBVyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQzFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUVqRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDWCxDQUFDO0FBVEQsb0VBU0M7QUFFRCxTQUFnQixvQkFBb0IsQ0FBRSxPQUFnQjtJQUNsRCxNQUFNLE1BQU0sR0FBWSxFQUFFLENBQUM7SUFFM0IsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDaEMsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUMsQ0FBQztJQUVILE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUFSRCxvREFRQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm90b2NvbCBmcm9tICdkZXZ0b29scy1wcm90b2NvbCc7XG5pbXBvcnQgSGVhZGVyRW50cnkgPSBQcm90b2NvbC5GZXRjaC5IZWFkZXJFbnRyeTtcbmltcG9ydCBIZWFkZXJzID0gUHJvdG9jb2wuTmV0d29yay5IZWFkZXJzO1xuaW1wb3J0IHsgSW5jb21pbmdIdHRwSGVhZGVycywgT3V0Z29pbmdIdHRwSGVhZGVycyB9IGZyb20gJ2h0dHAnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9IZWFkZXJFbnRyaWVzIChoZWFkZXJzOiBJbmNvbWluZ0h0dHBIZWFkZXJzKTogSGVhZGVyRW50cnlbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpLm1hcCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0VmFsdWUgPSAnJztcblxuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICByZXN1bHRWYWx1ZSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUudG9TdHJpbmcoKSA6IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiB7IG5hbWUsIHZhbHVlOiByZXN1bHRWYWx1ZSB9O1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvT3V0Z29pbmdIdHRwSGVhZGVycyAoaGVhZGVyczogSGVhZGVyRW50cnlbXSB8IHVuZGVmaW5lZCk6IE91dGdvaW5nSHR0cEhlYWRlcnMge1xuICAgIGlmICghaGVhZGVycylcbiAgICAgICAgcmV0dXJuIHt9O1xuXG4gICAgcmV0dXJuIGhlYWRlcnMucmVkdWNlKChyZXN1bHQ6IGFueSwgaGVhZGVyKSA9PiB7XG4gICAgICAgIHJlc3VsdFtoZWFkZXIubmFtZS50b0xvd2VyQ2FzZSgpXSA9IGhlYWRlci52YWx1ZTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIHt9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvd2VyQ2FzZUhlYWRlck5hbWVzIChoZWFkZXJzOiBIZWFkZXJzKTogSGVhZGVycyB7XG4gICAgY29uc3QgcmVzdWx0OiBIZWFkZXJzID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhoZWFkZXJzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICByZXN1bHRbbmFtZS50b0xvd2VyQ2FzZSgpXSA9IGhlYWRlcnNbbmFtZV07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4iXX0=